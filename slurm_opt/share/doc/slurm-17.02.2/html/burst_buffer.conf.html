<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Slurm Workload Manager</title>

	<link rel="shortcut icon" href="favicon.ico" />

	<link rel="stylesheet" type="text/css" href="fonts.css" />
	<link rel="stylesheet" type="text/css" href="reset.css" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" type="text/css" href="slurm.css" />

	<script type="text/javascript">
	(function() {
	  var cx = '011890816164765777536:jvrtxrd3f0w';
	  var gcse = document.createElement('script');
	  gcse.type = 'text/javascript';
	  gcse.async = true;
	  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	  var s = document.getElementsByTagName('script')[0];
	  s.parentNode.insertBefore(gcse, s);
	})();
	</script>
</head>

<body>

<div class="container container--main">

	<header class="site-header" role="banner">

		<div class="site-masthead">
			<h1 class="site-masthead__title site-masthead__title--slurm">
				<a href="/slurm" rel="home">
					<span class="slurm-logo">Slurm Workload Manager</span>
				</a>
			</h1>
			<div class="site-masthead__title">
				<a href="https://www.schedmd.com/" rel="home">
					<span class="site-logo">SchedMD</span>
				</a>
			</div>

			<button class="site-masthead__trigger menu-trigger" type="button" role="button" aria-label="Toggle Navigation"><span class="menu-trigger__lines"></span></button>
		</div>


		<nav class="site-nav">
			<h2 class="site-nav__title">Navigation</h2>

			<div class="slurm-title">
				<div class="slurm-logo"><a href="/slurm">Slurm Workload Manager</a></div>
				<div class="slurm-title__version">Version 17.02</div>
			</div>

			<ul class="site-nav__menu site-menu menu" role="navigation">
				<li class="site-menu__item">
				        <div>About</div>
					<ul>
						<li><a href="overview.html">Overview</a></li>
						<li><a href="news.html">What's New</a></li>
						<li><a href="team.html">Slurm Team</a></li>
						<li><a href="meetings.html">Meetings</a></li>
						<li><a href="testimonials.html">Testimonials</a></li>
						<li><a href="disclaimer.html">Legal Notices</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Using</div>
					<ul>
						<li><a href="tutorials.html">Tutorials</a></li>
						<li><a href="documentation.html">Documentation</a></li>
						<li><a href="faq.html">FAQ</a></li>
						<li><a href="publications.html">Publications</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Installing</div>
					<ul>
						<li><a href="download.html">Download</a></li>
						<li><a href="quickstart_admin.html">Installation Guide</a></li>
					</ul>
				</li>
				<li class="site-menu__item">
					<div>Getting Help</div>
					<ul>
						<li><a href="https://www.schedmd.com/services.php">Support</a></li>
						<li><a href="mail.html">Mailing Lists</a></li>
						<li><a href="https://www.schedmd.com/services.php">Training</a></li>
						<li><a href="troubleshoot.html">Troubleshooting</a></li>
					</ul>
				</li>
			</ul>

		</nav>

	</header>

	<div class="content" role="main">
		<section class="slurm-search">
			<div class="container" id="cse">
				<gcse:search></gcse:search>
			</div>
		</section>

		<div class="section">
			<div class="container">

<H1>burst_buffer.conf</H1>
Section: Slurm configuration file (5)<BR>Updated: December 2015<BR><A HREF="#index">Index</A>
<A HREF="/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<a id="SECTION_NAME"></a>
<H2>NAME</H2>

burst_buffer.conf - Slurm configuration file for burst buffer management.
<P>
<A NAME="lbAC">&nbsp;</A>
<a id="SECTION_DESCRIPTION"></a>
<H2>DESCRIPTION</H2>

<B>burst_buffer.conf</B> is an ASCII file which describes the configuration
of burst buffer resource management.
This file is only required on the head node(s), where the slurmctld daemon
executes.
The file location can be modified at system build time using the
DEFAULT_SLURM_CONF parameter or at execution time by setting the SLURM_CONF
environment variable.
The file will always be located in the same directory as the <B>slurm.conf</B>
file.
In order to support multiple configuration files for multiple burst buffer
plugins, the configuration file may alternately be given a name containing
the plugin name.
For example, if &quot;burst_buffer.conf&quot; is not found, the burst_buffer/generic
configuration could be read from a file named &quot;burst_buffer_generic.conf&quot;.
<P>

Parameter names are case insensitive.
Any text following a &quot;#&quot; in the configuration file is treated
as a comment through the end of that line.
Changes to the configuration file take effect upon restart of
Slurm daemons, daemon receipt of the SIGHUP signal, or execution
of the command &quot;scontrol reconfigure&quot;.
<P>

The configuration parameters available include:
<P>
<DL COMPACT>
<a id="OPT_AllowUsers"></a>
<DT><B>AllowUsers</B><DD>
Comma separated list of user names and/or IDs permitted to use burst buffers.
The options <B>AllowUsers</B> and <B>DenyUsers</B> can not both be specified.
By default all users are permitted to use burst buffers.
<P>
&nbsp;
Possible future enhancement for generic plugin
&nbsp;
.TP
&nbsp;
<B>AltPool</B>
&nbsp;
The AltPool value consists of a comma separated list of alternate pools of
&nbsp;
resources, each of which includes a name separated by a colon and a numeric
&nbsp;
value.
&nbsp;
The numeric value can include a suffix of &quot;k&quot;, &quot;m&quot;, &quot;g&quot;, &quot;t&quot; and &quot;p&quot; which
&nbsp;
multiplies the numeric value by 1,024, 1,048,576, 1,073,741,824 etc.
&nbsp;
The numeric value is a 64-bit value.
&nbsp;
for example, &quot;AltPool=test:20g,small:4g
<P>
<a id="OPT_CreateBuffer"></a>
<DT><B>CreateBuffer</B><DD>
Fully qualified path name of a program which will create both persistent
and per-job burst buffers.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_DefaultPool"></a>
<DT><B>DefaultPool</B><DD>
Name of the pool used by default for resource allocations.
The default value is the first pool reported by the burst buffer infrastructure.
This option is only used by the burst_buffer/cray plugin.
<P>
<a id="OPT_DenyUsers"></a>
<DT><B>DenyUsers</B><DD>
Colon delimited list of user names and/or IDs prevented from using burst buffers.
The options <B>AllowUsers</B> and <B>DenyUsers</B> can not both be specified.
By default all users are permitted to use burst buffers.
<P>
<a id="OPT_DestroyBuffer"></a>
<DT><B>DestroyBuffer</B><DD>
Fully qualified path name of a program which will destroy both persistent
and per-job burst buffers.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_Flags"></a>
<DT><B>Flags</B><DD>
String used to control various functions.
Multiple options may be comma separated.
Supported options include:
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_DisablePersistent"></a>
<DT><B>DisablePersistent</B><DD>
Prevents regular users from being able to create and destroy persistent burst buffers.
This is the default behaviour, only privileged users (Slurm operators and
administrators) can create or destroy persistent burst buffers.
<a id="OPT_EmulateCray"></a>
<DT><B>EmulateCray</B><DD>
Emulating a Cray DataWarp system using the dw_wlm_cli script in the burst_buffer/cray plugin.
<a id="OPT_EnablePersistent"></a>
<DT><B>EnablePersistent</B><DD>
Enables regular users to create and destroy persistent burst buffers.
By default, only privileged users (Slurm operators and administrators) can
create or destroy persistent burst buffers.
<a id="OPT_PrivateData"></a>
<DT><B>PrivateData</B><DD>
If set, then only Slurm operators and the burst buffer owner can see burst
buffer data.
<a id="OPT_TeardownFailure"></a>
<DT><B>TeardownFailure</B><DD>
If set, then teardown a burst buffer after file staging error. Otherwise
preserve the burst buffer for analysis and manual teardown.
</DL>
</DL>

<P>
<a id="OPT_GetSysState"></a>
<DT><B>GetSysState</B><DD>
Fully qualified path name of a program which will return the current burst
buffer state.
See the src/plugins/burst_buffer/generic/bb_get_state.example in the
Slurm distribution for an example.
For the Cray plugin, this should be the path of the <I>dw_wlm_cli</I> command
and it's default value is /opt/cray/dw_wlm/default/bin/dw_wlm_cli.
<P>
<a id="OPT_Granularity"></a>
<DT><B>Granularity</B><DD>
Granularity of job space allocations in units of bytes.
The numeric value may have a suffix of &quot;m&quot; (megabytes), &quot;g&quot; (gigabytes),
&quot;t&quot; (terabytes), &quot;p&quot; (petabytes), or &quot;n&quot; (nodes).
Bytes is assumed if no suffix is supplied.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_OtherTimeout"></a>
<DT><B>OtherTimeout</B><DD>
If a burst buffer operation (other than job validation, stage in, or stage out)
runs for longer than this number of seconds, the job will be placed in a held
state.
A Slurm administrator will be required to release the job.
By default there is a 300 second (5 minute) timeout for these operations.
Also see <B>StageInTimeout</B>, <B>StageOutTimeout</B>, and <B>ValidateTimeout</B>
options.
<P>
<a id="OPT_PrivateData_1"></a>
<DT><B>PrivateData</B><DD>
If set to &quot;true&quot; then users will only be able to view burst buffers they can
use.
Slurm administrators will still be able to view all burst buffers.
By default, users can view all burst buffers.
<P>
<a id="OPT_StageInTimeout"></a>
<DT><B>StageInTimeout</B><DD>
If the stage in of files for a job takes more than this number of seconds,
the burst buffer will be released and the job will be placed in a held state.
A Slurm administrator will be required to release the job.
By default there is a one day timeout for the stage in process.
<P>
<a id="OPT_StageOutTimeout"></a>
<DT><B>StageOutTimeout</B><DD>
If the stage out of files for a job takes more than this number of seconds,
the burst buffer will be released and the job will be purged.
By default there is a one day timeout for the stage out process.
<P>
<a id="OPT_StartStageIn"></a>
<DT><B>StartStageIn</B><DD>
Fully qualified path name of a program which will stage files in for a job.
See the src/plugins/burst_buffer/generic/bb_start_stage_in.example in the
Slurm distribution for an example.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_StartStageOut"></a>
<DT><B>StartStageOut</B><DD>
Fully qualified path name of a program which will stage files out for a job.
See the src/plugins/burst_buffer/generic/bb_start_stage_out.example in the
Slurm distribution for an example.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_StopStageIn"></a>
<DT><B>StopStageIn</B><DD>
Fully qualified path name of a program which will stop staging files in for a job.
See the src/plugins/burst_buffer/generic/bb_stop_stage_out.example in the
Slurm distribution for an example.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_StopStageOut"></a>
<DT><B>StopStageOut</B><DD>
Fully qualified path name of a program which will stop staging files in for a job.
See the src/plugins/burst_buffer/generic/bb_stop_stage_out.example in the
Slurm distribution for an example.
This option is not used by the burst_buffer/cray plugin.
<P>
<a id="OPT_ValidateTimeout"></a>
<DT><B>ValidateTimeout</B><DD>
If the validation of a job submission request takes more than this number of
seconds, the submission will be rejected.
The value of <B>ValidateTimeout</B> must be less than the value of
<B>MessageTimeout</B> configured in the slurm.conf file or job submission
requests may fail with a response timeout error.
By default there is a 5 second timeout for the validation operations.
(NOTE: This option was added after the release of Slurm version 15.08 and will
its not be visible to users with Slurm tools until the version 16.05 release.)
<P>
</DL>
<A NAME="lbAD">&nbsp;</A>
<a id="SECTION_EXAMPLE"></a>
<H2>EXAMPLE</H2>

<P>

<BR>

##################################################################
<BR>

# Slurm's burst buffer configuration file (burst_buffer.conf)
<BR>

##################################################################
<BR>

AllowUsers=alan,brenda
<BR>

PrivateData=true
&nbsp;
.br
&nbsp;
Gres=nodes:10,other:20
<BR>

#
<BR>

Granularity=1G
<BR>

#
<BR>

StageInTimeout=30    # Seconds
<BR>

StageOutTimeout=30   # Seconds
<BR>

#
<BR>

CreateBuffer=/usr/local/slurm/15.08/sbin/CB
<BR>

DestroyBuffer=/usr/local/slurm/15.08/sbin/DB
<BR>

GetSysState=/usr/local/slurm/15.08/sbin/GSS
<BR>

StartStageIn=/usr/local/slurm/15.08/sbin/SSI
<BR>

StartStageOut=/usr/local/slurm/15.08/sbin/SSO
<BR>

StopStageIn=/usr/local/slurm/15.08/sbin/PSI
<BR>

StopStageOut=/usr/local/slurm/15.08/sbin/PSO
<P>
<A NAME="lbAE">&nbsp;</A>
<a id="SECTION_COPYING"></a>
<H2>COPYING</H2>

Copyright (C) 2014-2015 SchedMD LLC.
<P>

This file is part of Slurm, a resource management program.
For details, see &lt;<A HREF="https://slurm.schedmd.com/">https://slurm.schedmd.com/</A>&gt;.
<P>

Slurm is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
<P>

Slurm is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.
<P>
<A NAME="lbAF">&nbsp;</A>
<a id="SECTION_SEE-ALSO"></a>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="/man/man2html?5+slurm.conf">slurm.conf</A></B>(5)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">EXAMPLE</A><DD>
<DT><A HREF="#lbAE">COPYING</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 04:00:51 GMT, July 19, 2018
			</div> <!-- END .container -->
		</div> <!-- END .section -->
	</div> <!-- END .content -->
</div> <!-- END .main -->

<footer class="site-footer" role="contentinfo">
	<nav class="footer-nav section">
		<div class="container">
			<p><a href="disclaimer.html" target="_blank" class="privacy">Legal Notices</a></p>
		</div>
	</nav>
</footer>

<script type='text/javascript'>
	var custpagename = window.location.href;
	var urlarray = custpagename.split('#');
	custpagename = urlarray[1];

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			 ga('create', 'UA-47927131-1', 'schedmd.com');
		ga('send', {'hitType': 'pageview', 'page': custpagename, 'title': custpagename});
</script>

</body>
</html>
